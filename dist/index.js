"use strict";Object.defineProperty(exports, "__esModule", {value: true}); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; } function _createStarExport(obj) { Object.keys(obj) .filter((key) => key !== "default" && key !== "__esModule") .forEach((key) => { if (exports.hasOwnProperty(key)) { return; } Object.defineProperty(exports, key, {enumerable: true, configurable: true, get: () => obj[key]}); }); } function _optionalChain(ops) { let lastAccessLHS = undefined; let value = ops[0]; let i = 1; while (i < ops.length) { const op = ops[i]; const fn = ops[i + 1]; i += 2; if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) { return undefined; } if (op === 'access' || op === 'optionalAccess') { lastAccessLHS = value; value = fn(value); } else if (op === 'call' || op === 'optionalCall') { value = fn((...args) => value.call(lastAccessLHS, ...args)); lastAccessLHS = undefined; } } return value; }var _reactquery = require('@tanstack/react-query'); _createStarExport(_reactquery);function q(e){return e.replace(/^\/+/,"").replace(/\/+$/,"")}var C=(e,t)=>{let r=q(e.path.replace(/{(\w+)}/g,(n,a)=>e.params[a].toString()));return t?`${r}/`:r};var _reactquerydevtools = require('@tanstack/react-query-devtools');var _react = require('react'); var _react2 = _interopRequireDefault(_react);var A=class e extends Error{constructor(r,n,a){super(r);this.message=r;this.status=n;this.data=a;Object.setPrototypeOf(this,e.prototype),this.name=this.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(r).stack,this.stack=new Error().stack,console.error(this.message,this)}};var se=e=>{if(e!==null&&typeof e=="object"){let t={};return Object.entries(e).forEach(([n,a])=>{(a||typeof a=="boolean"||typeof a=="number")&&(t[n]=a)}),t}return{}};function I(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var B=e=>{let{onSuccess:t,onError:r}=e,n=e.data instanceof FormData,a=(()=>{let s=e.url;if(e.params){let y=se(e.params);if(e.queryParamsSerializer)s+=`?${e.queryParamsSerializer(e.params)}`;else if(Object.keys(y).length>0){let c=[];for(let Q in y)y.hasOwnProperty(Q)&&(Array.isArray(y[Q])?y[Q].forEach(D=>{c.push(`${I(Q)}${e.queryArrayParamStyle==="indexedArray"?"[]":""}=${I(D)}`)}):c.push(`${I(Q)}=${I(y[Q])}`));s+=`?${c.join("&")}`}}let[u,p]=s.split("?");return`${u}${p?`?${p}`:""}`})(),i=n?e.data:e.data?JSON.stringify(e.data):"",o={method:e.method,headers:{...!n&&{"Content-Type":"application/json"},...e.authorization&&{Authorization:e.authorization},...e.headers},...i&&{body:i},...e.options};return fetch(a,o).then(async s=>{let u=await(async()=>{try{let y=_optionalChain([s, 'access', _2 => _2.headers, 'access', _3 => _3.get, 'call', _4 => _4("Content-Type"), 'optionalAccess', _5 => _5.toLowerCase, 'call', _6 => _6()])||"";return y.includes("application/json")?await s.json():y.includes("text/plain")||y.includes("text/csv")||y.includes("application/xml")||y.includes("text/xml")||y.includes("application/javascript")||y.includes("text/html")?await s.text():y.includes("multipart/form-data")?await s.formData():await s.blob()}catch(y){throw console.error("Error handling response:",y),y}})(),p={};return s.headers.forEach((y,c)=>{p[c]=y}),{status:s.status,statusText:s.statusText,headers:p,data:u}}).then(s=>{if(s.status<200||s.status>=300){let u=new A(`Request failed with status code: ${s.status}`,s.status,s.data);return r&&r(u,e),Promise.reject(u)}return t&&t(s,e),Promise.resolve(s)}).catch(s=>Promise.reject(new A(s.message)))};var _headless = require('react-hot-toast/headless'); var _headless2 = _interopRequireDefault(_headless);var ie=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"&&window.matchMedia){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})();function ue({id:e,className:t,style:r,onHeightUpdate:n,children:a}){let i=_react.useCallback.call(void 0, o=>{if(o){let s=()=>{let{height:u}=o.getBoundingClientRect();n(e,u)};s(),new MutationObserver(s).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return _react2.default.createElement("div",{"data-toast-id":e,ref:i,className:t,style:r},a)}var ye=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ie()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}},v=16;function N({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,containerStyle:i,containerClassName:o}){let{toasts:s,handlers:u}=_headless.useToaster.call(void 0, r);return _react2.default.createElement("div",{style:{position:"fixed",zIndex:9999,top:v,left:v,right:v,bottom:v,pointerEvents:"none",...i},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},s.map(p=>{let y=p.position||t,c={...p,position:y},Q=u.calculateOffset(c,{reverseOrder:e,gutter:n,defaultPosition:t}),D=ye(y,Q),E=a;return _react2.default.createElement(ue,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,style:{...D,pointerEvents:"auto"}},c.type==="custom"?_headless.resolveValue.call(void 0, p.message,c):E?_react2.default.createElement(E,{...c}):_react2.default.createElement("div",{style:{display:p.visible?"flex":"none"}},_headless.resolveValue.call(void 0, c.message,c)))}))}var _reacthottoast = require('react-hot-toast');var{remove:_e,...me}=_headless2.default,j= exports.toast =Object.assign((...e)=>_headless2.default.call(void 0, ...e),me),ze= exports.ToastBar =_reacthottoast.ToastBar,Ge= exports.resolveToastValue =_reacthottoast.resolveValue;var _eventemitter3 = require('eventemitter3'); var _eventemitter32 = _interopRequireDefault(_eventemitter3);var _=new _eventemitter32.default,S={once:(e,t)=>{_.once(e,t)},emit:(e,t)=>{_.emit(e,t)}};var M=process.env.NODE_ENV==="test";var H=_react.createContext.call(void 0, {apiUrl:"",apiEnsureTrailingSlash:!1,apiClient:B,toastUndo:()=>{}}),g= exports.useRQWrapperContext =()=>_react.useContext.call(void 0, H);function pt({children:e,config:t={},apiUrl:r,apiClient:n=B,apiEnsureTrailingSlash:a=!1,apiAuthorization:i,apiHeaders:o,apiOnSuccess:s,apiOnError:u,isDevTools:p,devToolsOptions:y,toast:c}){let Q=_react.useMemo.call(void 0, ()=>new (0, _reactquery.QueryClient)({...t,defaultOptions:{..._optionalChain([t, 'optionalAccess', _7 => _7.defaultOptions]),queries:{gcTime:3e5,staleTime:3e5,retry:!1,..._optionalChain([t, 'optionalAccess', _8 => _8.defaultOptions, 'optionalAccess', _9 => _9.queries])}}}),[]),D=_react.useCallback.call(void 0, T=>{let m=i?i():"",P=o?o():{},l=(...d)=>{s&&s(...d),T.onSuccess&&T.onSuccess(...d)},f=(...d)=>{u&&u(...d),T.onError&&T.onError(...d)};return n({...T,headers:T.headers?{...P,...T.headers}:P,authorization:T.authorization||m,onSuccess:l,onError:f})},[]),E=_react.useCallback.call(void 0, T=>{let m=!1;j.dismiss();let P=()=>{m=!0,S.emit("end",!0),j.dismiss()};M||j.success(l=>{let f=_optionalChain([c, 'optionalAccess', _10 => _10.CustomUndoContent]);return!l.visible&&!m&&(m=!0,S.emit("end",!1)),f?_react2.default.createElement(f,{message:T.message,onUndo:P,type:T.type,toast:l}):_react2.default.createElement(_react2.default.Fragment,null,T.message,_react2.default.createElement("span",{style:{marginLeft:"10px",cursor:"pointer"},onClick:P,role:"button",tabIndex:0,"aria-label":"Undo",title:"Undo"},"UNDO"))},{duration:_optionalChain([c, 'optionalAccess', _11 => _11.globalProps, 'optionalAccess', _12 => _12.toastOptions, 'optionalAccess', _13 => _13.duration])||5e3})},[]),b=_react.useMemo.call(void 0, ()=>({apiUrl:q(r),apiClient:D,apiEnsureTrailingSlash:a,toastUndo:E}),[r,D,E,a]);return _react2.default.createElement(_reactquery.QueryClientProvider,{client:Q},!M&&_react2.default.createElement(N,{..._optionalChain([c, 'optionalAccess', _14 => _14.globalProps])},_optionalChain([c, 'optionalAccess', _15 => _15.CustomContent])),_react2.default.createElement(H.Provider,{value:b},e),p&&_react2.default.createElement(_reactquerydevtools.ReactQueryDevtools,{buttonPosition:"bottom-right",initialIsOpen:!1,...y}))}var ft=({queryOptions:e,resource:t,params:r={},apiClientParams:n})=>{let{apiUrl:a,apiClient:i,apiEnsureTrailingSlash:o}=g();return _reactquery.useQuery.call(void 0, {...e,queryKey:["get-list",t.path,t.params,r,..._optionalChain([e, 'optionalAccess', _16 => _16.queryKey])?e.queryKey:[]],queryFn:async({queryKey:u})=>{let p={resource:t,params:r,queryKey:u},y=`${a}/${C(p.resource,o)}`;return _optionalChain([e, 'optionalAccess', _17 => _17.queryFn])?await _optionalChain([e, 'optionalAccess', _18 => _18.queryFn, 'call', _19 => _19({apiClient:i,apiUrl:a,variables:p,url:y})]):await i({url:y,method:"GET",params:r,...n})}})};var xt=({queryOptions:e,resource:t,params:r={},apiClientParams:n,pagination:a})=>{let{apiUrl:i,apiClient:o,apiEnsureTrailingSlash:s}=g();return _reactquery.useInfiniteQuery.call(void 0, {initialPageParam:1,getNextPageParam:(...p)=>{let y=p[0],c=Number(p[2]);if(_optionalChain([y, 'optionalAccess', _20 => _20.data, 'optionalAccess', _21 => _21.length]))return c+1},getPreviousPageParam:(...p)=>{let y=Number(p[2]);if(!(y<=1))return y-1},...e,queryKey:["get-infinite-list",t.path,t.params,a,r,..._optionalChain([e, 'optionalAccess', _22 => _22.queryKey])?e.queryKey:[]],queryFn:async({queryKey:p,pageParam:y})=>{let c={resource:t,params:{...r,[a.page[0]]:y,[a.per_page[0]]:a.per_page[1]},queryKey:p},Q=`${i}/${C(c.resource,s)}`;return _optionalChain([e, 'optionalAccess', _23 => _23.queryFn])?await _optionalChain([e, 'optionalAccess', _24 => _24.queryFn, 'call', _25 => _25({apiClient:o,apiUrl:i,variables:c,url:Q})]):await o({url:Q,method:"GET",params:c.params,...n})}})};var Rt=({resource:e,id:t,queryOptions:r,params:n={},apiClientParams:a})=>{let{apiUrl:i,apiClient:o,apiEnsureTrailingSlash:s}=g();return _reactquery.useQuery.call(void 0, {...r,queryKey:["get-one",e.path,e.params,String(t),n,..._optionalChain([r, 'optionalAccess', _26 => _26.queryKey])?r.queryKey:[]],queryFn:async({queryKey:p})=>{let y={id:t,resource:e,params:n,queryKey:p},c=`${i}/${C(y.resource,!0)}`;return _optionalChain([r, 'optionalAccess', _27 => _27.queryFn])?await _optionalChain([r, 'optionalAccess', _28 => _28.queryFn, 'call', _29 => _29({apiClient:o,apiUrl:i,variables:y,url:c})]):await o({url:`${c}${y.id}${s?"/":""}`,method:"GET",params:n,...a})}})};var J=({queryClient:e,data:t,queryKeysOne:r})=>{r&&r.forEach(n=>{e.setQueryData(n,t)})};var Y=({queryClient:e,data:t,queryKeysList:r,queryKeysInfiniteList:n,cacheAddItemTo:a="start"})=>{let i=o=>!o||!(o.data instanceof Array)?o:{...o,data:a==="start"?[...t,...o.data]:[...o.data,...t]};r&&r.forEach(o=>{e.setQueriesData({queryKey:o},i)}),n&&n.forEach(o=>{e.setQueriesData({queryKey:o},s=>s&&{...s,pages:s.pages.map(i)})})};var X=({queryClient:e,queryKeys:t})=>{t.forEach(r=>{e.removeQueries({queryKey:r})})};var Z=({queryClient:e,ids:t,queryKeysOne:r,queryKeysList:n,queryKeysInfiniteList:a})=>{let i=o=>!o||!(o.data instanceof Array)?o:{...o,data:o.data.filter(s=>!t.some(u=>String(u)===String(s.id)))};r&&X({queryClient:e,queryKeys:r}),n&&n.forEach(o=>{e.setQueriesData({queryKey:o},i)}),a&&a.forEach(o=>{e.setQueriesData({queryKey:o},s=>s&&{...s,pages:s.pages.map(i)})})};var h={getOne:(e,t)=>["get-one",e.path,e.params,String(t)],getOneArray:(e,t)=>t.map(r=>["get-one",e.path,e.params,String(r)]),getList:e=>["get-list",e.path,e.params],getInfiniteList:e=>["get-infinite-list",e.path,e.params],getDataQuery:e=>["query-data",e.path,e.params]};function L(e,t){if(typeof e!=typeof t)return!1;if(e instanceof Object&&t instanceof Object){let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a of r){let i=e[a],o=t[a];if(i!==o&&!L(i,o))return!1}return!0}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r]&&!L(e[r],t[r]))return!1;return!0}return e===t}var It=({queryClient:e,queryKeys:t})=>{e.invalidateQueries({predicate:r=>{let n=r.queryKey;return t.some(a=>a.every(i=>n.some(o=>L(o,i))))}})};var wt=({queryClient:e,queryKeys:t})=>{e.removeQueries({predicate:r=>{let n=r.queryKey;return t.some(a=>a.every(i=>n.some(o=>L(o,i))))}})};var O=({queryClient:e,queryKeys:t})=>{t.forEach(r=>{e.invalidateQueries({queryKey:r})})};function ee(e){return!Number.isNaN(Number(e))}function Ee(e,t){return ee(e)&&ee(t)}function w(e,t){let r={...e};if(e instanceof Object&&t instanceof Object){for(let n in t)if(n in e){let a=e[n],i=t[n],o=typeof a==typeof i&&(Array.isArray(a)&&Array.isArray(i)||a!==null&&!Array.isArray(a)&&typeof a=="object"&&!Array.isArray(i)&&typeof i=="object"||typeof a!="object"&&typeof i!="object"),s=Ee(a,i);(o||s)&&(typeof a=="object"&&a!==null&&!Array.isArray(a)?r[n]=w(a,i):r[n]=i)}}return r}var te=({queryClient:e,data:t,ids:r,queryKeysOne:n,queryKeysList:a,queryKeysInfiniteList:i})=>{let o=s=>!s||!(s.data instanceof Array)?s:{...s,data:s.data.map(u=>r.some(p=>String(p)===String(u.id))?w(u,t):u)};n&&n.forEach(s=>{e.setQueriesData({queryKey:s},u=>!u||!(u.data instanceof Object)||!(t instanceof Object)?u:{...u,data:w(u.data,t)})}),a&&a.forEach(s=>{e.setQueriesData({queryKey:s},o)}),i&&i.forEach(s=>{e.setQueriesData({queryKey:s},u=>u&&{...u,pages:u.pages.map(o)})})};var V=async(e,t)=>{let r=t.reduce((n,a)=>n.concat(e.getQueriesData({queryKey:a})),[]);return await Promise.all(r.map(([n])=>e.cancelQueries({queryKey:n}))),r};var re=({resourcePath:e,mutationOptions:t,mode:r={optimistic:!0,undoable:!0},extraResources:n=[],shouldUpdateCurrentResource:a=!0,isInvalidateCache:i=!0,type:o="many"})=>{let{apiUrl:s,apiClient:u,apiEnsureTrailingSlash:p,toastUndo:y}=g(),c=_reactquery.useQueryClient.call(void 0, ),Q=_react.useRef.call(void 0, []),D=()=>{Q.current.forEach(([m,P])=>{c.setQueryData(m,P)})},{mutate:E,...b}=_reactquery.useMutation.call(void 0, {...t,mutationKey:[o==="many"?"delete-many":"delete-one",e,..._optionalChain([t, 'optionalAccess', _30 => _30.mutationKey])?t.mutationKey:[]],mutationFn:async m=>{let P=`${s}/${C(m.resource,!0)}`;if(_optionalChain([t, 'optionalAccess', _31 => _31.mutationFn]))return await _optionalChain([t, 'optionalAccess', _32 => _32.mutationFn, 'call', _33 => _33({apiClient:u,apiUrl:s,variables:m,url:P})]);let l=o==="many"?m.ids:[m.id],f=await Promise.allSettled(l.map(x=>u({url:`${P}${x}${p?"/":""}`,method:"DELETE",...m.apiClientParams}))),d=[];return f.forEach(x=>{if(x.status==="fulfilled")d.push(x.value);else throw x.reason}),o==="many"?d:d[0]},onSuccess:(...m)=>{let P=m[1],l=[h.getList(P.resource),h.getInfiniteList(P.resource)];n.forEach(f=>{l.push(h.getList(f)),l.push(h.getInfiniteList(f))}),i&&O({queryClient:c,queryKeys:l}),_optionalChain([t, 'optionalAccess', _34 => _34.onSuccess])&&t.onSuccess(...m)},onError:(...m)=>{_optionalChain([t, 'optionalAccess', _35 => _35.onError])&&t.onError(...m),D()}});return{mutation:b,delete:async({resourceParams:m,undoMessage:P,...l})=>{let f={path:e,params:m},d=o==="many"?l.ids:[l.id];if(r.optimistic){let x=a?h.getOneArray(f,d):[],R=a?[h.getList(f)]:[],F=a?[h.getInfiniteList(f)]:[];n.forEach($=>{x.push(...h.getOneArray($,d)),R.push(h.getList($)),F.push(h.getInfiniteList($))}),Q.current=await V(c,[...x,...R,...F]),Z({queryClient:c,ids:d,queryKeysOne:x,queryKeysList:R,queryKeysInfiniteList:F})}if(r.undoable&&!M){let x=d.length>1;S.once("end",R=>{R?D():E({...l,resource:f})}),y({message:P||`Element${x?"s":""} deleted`,type:x?"delete-many":"delete-one"})}else E({...l,resource:f})}}},pr= exports.useDeleteOne =e=>re({...e,type:"one"}),cr= exports.useDeleteMany =e=>re({...e,type:"many"});var ae=({resourcePath:e,mutationOptions:t,mode:r={optimistic:!0,undoable:!0},extraResources:n=[],shouldUpdateCurrentResource:a=!0,type:i="many"})=>{let{apiUrl:o,apiClient:s,apiEnsureTrailingSlash:u,toastUndo:p}=g(),y=_reactquery.useQueryClient.call(void 0, ),c=_react.useRef.call(void 0, []),Q=()=>{c.current.forEach(([T,m])=>{y.setQueryData(T,m)})},{mutate:D,...E}=_reactquery.useMutation.call(void 0, {...t,mutationKey:[i==="many"?"update-many":"update-one",e,..._optionalChain([t, 'optionalAccess', _36 => _36.mutationKey])?t.mutationKey:[]],mutationFn:async T=>{let m=`${o}/${C(T.resource,!0)}`;if(_optionalChain([t, 'optionalAccess', _37 => _37.mutationFn]))return await _optionalChain([t, 'optionalAccess', _38 => _38.mutationFn, 'call', _39 => _39({apiClient:s,apiUrl:o,variables:T,url:m})]);let P=i==="many"?T.ids:[T.id],l=await Promise.allSettled(P.map(d=>s({url:`${m}${d}${u?"/":""}`,method:"PATCH",data:T.data,...T.apiClientParams}))),f=[];return l.forEach(d=>{if(d.status==="fulfilled")f.push(d.value);else throw d.reason}),i==="many"?f:f[0]},onSuccess:(...T)=>{let m=T[1];if(!r.optimistic){let P=i==="many"?m.ids:[m.id],l=[...h.getOneArray(m.resource,P),h.getList(m.resource),h.getInfiniteList(m.resource)];n.forEach(f=>{l.push(...h.getOneArray(f,P)),l.push(h.getList(f)),l.push(h.getInfiniteList(f))}),O({queryClient:y,queryKeys:l})}_optionalChain([t, 'optionalAccess', _40 => _40.onSuccess])&&t.onSuccess(...T)},onError:(...T)=>{_optionalChain([t, 'optionalAccess', _41 => _41.onError])&&t.onError(...T),Q()}});return{mutation:E,update:async({resourceParams:T,undoMessage:m,...P})=>{let l={path:e,params:T},f=i==="many"?P.ids:[P.id];if(r.optimistic){let d=a?h.getOneArray(l,f):[],x=a?[h.getList(l)]:[],R=a?[h.getInfiniteList(l)]:[];n.forEach(F=>{d.push(...h.getOneArray(F,f)),x.push(h.getList(F)),R.push(h.getInfiniteList(F))}),c.current=await V(y,[...d,...x,...R]),te({queryClient:y,data:P.data,ids:f,queryKeysOne:d,queryKeysList:x,queryKeysInfiniteList:R})}if(r.undoable&&!M){let d=f.length>1;S.once("end",x=>{x?Q():D({...P,resource:l})}),p({message:m||`Element${d?"s":""} updated`,type:d?"update-many":"update-one"})}else D({...P,resource:l})}}},xr= exports.useUpdateOne =e=>ae({...e,type:"one"}),Er= exports.useUpdateMany =e=>ae({...e,type:"many"});var Fr=({resourcePath:e,mutationOptions:t,extraResources:r=[],shouldUpdateCurrentResource:n=!0,cacheAddItemTo:a="start",isInvalidateCache:i=!0})=>{let{apiUrl:o,apiClient:s,apiEnsureTrailingSlash:u}=g(),p=_reactquery.useQueryClient.call(void 0, ),{mutate:y,...c}=_reactquery.useMutation.call(void 0, {...t,mutationKey:["create",e,..._optionalChain([t, 'optionalAccess', _42 => _42.mutationKey])?t.mutationKey:[]],mutationFn:async D=>{let E=`${o}/${C(D.resource,u)}`;return _optionalChain([t, 'optionalAccess', _43 => _43.mutationFn])?await _optionalChain([t, 'optionalAccess', _44 => _44.mutationFn, 'call', _45 => _45({apiClient:s,apiUrl:o,variables:D,url:E})]):await s({url:E,method:"POST",data:D.data,...D.apiClientParams})},onSuccess:(...D)=>{let E=D[0];if(E){let b=D[1],T=n?[h.getList(b.resource)]:[],m=n?[h.getInfiniteList(b.resource)]:[];r.forEach(l=>{T.push(h.getList(l)),m.push(h.getInfiniteList(l))});let P=Array.isArray(E)?E:[E];P.forEach(l=>{let{id:f}=l.data,d=n?[h.getOne(b.resource,f)]:[];r.forEach(x=>{d.push(h.getOne(x,f))}),J({queryClient:p,data:l.data||{},queryKeysOne:d.map(x=>[...x,{}])})}),Y({data:P.map(l=>_optionalChain([l, 'optionalAccess', _46 => _46.data])||{}),queryClient:p,cacheAddItemTo:a,queryKeysInfiniteList:m,queryKeysList:T}),i&&O({queryClient:p,queryKeys:[...T,...m]})}_optionalChain([t, 'optionalAccess', _47 => _47.onSuccess])&&t.onSuccess(...D)}});return{mutation:c,create:({resourceParams:D,...E})=>{y({...E,resource:{path:e,params:D}})}}};var Ar=({queryOptions:e,resource:t,params:r={},apiClientParams:n})=>{let{apiUrl:a,apiClient:i,apiEnsureTrailingSlash:o}=g();return _reactquery.useQuery.call(void 0, {...e,queryKey:["query-data",t.path,t.params,r,..._optionalChain([e, 'optionalAccess', _48 => _48.queryKey])?e.queryKey:[]],queryFn:async({queryKey:u})=>{let p={resource:t,params:r,queryKey:u},y=`${a}/${C(p.resource,o)}`;return _optionalChain([e, 'optionalAccess', _49 => _49.queryFn])?await _optionalChain([e, 'optionalAccess', _50 => _50.queryFn, 'call', _51 => _51({apiClient:i,apiUrl:a,variables:p,url:y})]):await i({url:y,method:"GET",params:r,...n})}})};var jr=({resourcePath:e,mutationOptions:t})=>{let{apiUrl:r,apiClient:n,apiEnsureTrailingSlash:a}=g(),{mutate:i,...o}=_reactquery.useMutation.call(void 0, {...t,mutationKey:["mutate-data",e,..._optionalChain([t, 'optionalAccess', _52 => _52.mutationKey])?t.mutationKey:[]],mutationFn:async u=>{let p=`${r}/${C(u.resource,a)}`;return _optionalChain([t, 'optionalAccess', _53 => _53.mutationFn])?await _optionalChain([t, 'optionalAccess', _54 => _54.mutationFn, 'call', _55 => _55({apiClient:n,apiUrl:r,variables:u,url:p})]):await n({url:p,data:u.data,...u.apiClientParams})}});return{mutation:o,mutate:async({resourceParams:u,...p})=>{i({...p,resource:{path:e,params:u}})}}};exports.CustomError = A; exports.RQWrapper = pt; exports.ToastBar = ze; exports.addItemToQueryCache = J; exports.addItemsToListQueryCache = Y; exports.deleteItemsFromQueryCache = Z; exports.fetcher = B; exports.getUrlFromResource = C; exports.helpersQueryKeys = h; exports.invalidateMatchingQueries = It; exports.invalidateQueries = O; exports.removeMatchingQueries = wt; exports.removeQueries = X; exports.resolveToastValue = Ge; exports.toast = j; exports.updateItemsFromQueryCache = te; exports.useCreate = Fr; exports.useDataMutate = jr; exports.useDataQuery = Ar; exports.useDeleteMany = cr; exports.useDeleteOne = pr; exports.useGetInfiniteList = xt; exports.useGetList = ft; exports.useGetOne = Rt; exports.useRQWrapperContext = g; exports.useUpdateMany = Er; exports.useUpdateOne = xr;
//# sourceMappingURL=index.js.map